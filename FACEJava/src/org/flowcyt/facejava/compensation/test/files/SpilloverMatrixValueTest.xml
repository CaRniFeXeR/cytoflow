<?xml version="1.0" encoding="UTF-8"?>

<comp:Compensation-ML 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:comp="http://www.isac-net.org/std/Compensation-ML/v1.0/"
    xsi:schemaLocation="http://www.isac-net.org/std/Compensation-ML/v1.0/ ../schema/Compensation-ML.v1.0.xsd">
    
    <!--  
    	With this matrix we'll test that we retrieve values correctly with all versions
    	of parameters X and Y when none, one or both are specified in the spilloverMatrix, and
    	when X = Y and X != Y.
    
    	Test Cases:
    	
    	Spillover Parameter		Coefficient Parameter		Expected Value
    	
    	NotSpecified1			NotSpecified2				0
    	NotSpecified1			Fluor						0
    	Cy5PE					NotSpecified2				0
    	Cy5PE					Cy5PE						1
    	NotSpecified1			NotSpecified1				1
    	Fluor					Cy5PE						0.03457
    	Fluor					Fluor						0.9876
    	PhyEry					Cy5PE						0.21343  \...(A single test that they're not equal)
    	Cy5PE					PhyEry						0.23623  /

    -->
    
    <comp:spilloverMatrix comp:id="BasicTestMatrix">
      
        <comp:spillover comp:parameter="Fluor">
	        <comp:coefficient comp:parameter="Fluor" comp:value="0.9876"/>
            <comp:coefficient comp:parameter="PhyEry" comp:value="0.16501"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.03457"/>
        </comp:spillover>
 
        <comp:spillover comp:parameter="PhyEry">
            <comp:coefficient comp:parameter="Fluor" comp:value="0.01454"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.21343"/>
        </comp:spillover>
        
        <comp:spillover comp:parameter="Cy5PE">
            <comp:coefficient comp:parameter="Fluor" comp:value="0.0059"/>
            <comp:coefficient comp:parameter="PhyEry" comp:value="0.23623"/>
        </comp:spillover>
        
    </comp:spilloverMatrix>
    
    <!-- 
    	With this matrix we'll test the behaviour when multiple values for the same parameter
    	name(s) are specified. The last specified value between two parameters (in the same order)
    	is used.
    
    	Spillover Parameter		Coefficient Parameter		Expected Value
    	Fluor					PhyEry						0.44444
    	PhyEry					Fluor						0.66666
    	Cy5PE					Cy5PE						0.88888
    -->
    
    <comp:spilloverMatrix comp:id="MultipleValuesSpecifiedMatrix">
      
        <comp:spillover comp:parameter="Fluor">
	        <comp:coefficient comp:parameter="PhyEry" comp:value="0.16501"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.03457"/>
        </comp:spillover>
 
        <comp:spillover comp:parameter="PhyEry">
            <comp:coefficient comp:parameter="Fluor" comp:value="0.01454"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.21343"/>
            <comp:coefficient comp:parameter="Fluor" comp:value="0.11111"/>
            <comp:coefficient comp:parameter="Fluor" comp:value="0.22222"/>
            <comp:coefficient comp:parameter="Fluor" comp:value="0.33333"/>
            <comp:coefficient comp:parameter="FL111" comp:value="0.01454"/>
            <comp:coefficient comp:parameter="Fluor" comp:value="0.44444"/>
            <comp:coefficient comp:parameter="FL222" comp:value="0.21343"/>
            <comp:coefficient comp:parameter="Fluor" comp:value="0.55555"/>
            <comp:coefficient comp:parameter="FL333" comp:value="0.21343"/>
            <comp:coefficient comp:parameter="Fluor" comp:value="0.66666"/>
        </comp:spillover>
        
        <comp:spillover comp:parameter="Fluor">
	        <comp:coefficient comp:parameter="PhyEry" comp:value="0.22222"/>
	    </comp:spillover>
        
        <comp:spillover comp:parameter="Cy5PE">
            <comp:coefficient comp:parameter="Fluor" comp:value="0.0059"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.11111"/>
            <comp:coefficient comp:parameter="PhyEry" comp:value="0.23623"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.22222"/>
        </comp:spillover>
        
        <comp:spillover comp:parameter="FL111">
        	<comp:coefficient comp:parameter="Fluor" comp:value="0.0059"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.11111"/>
        </comp:spillover>
        
        <comp:spillover comp:parameter="Fluor">
        	<comp:coefficient comp:parameter="FL111" comp:value="0.01454"/>
            <comp:coefficient comp:parameter="FL222" comp:value="0.21343"/>
            <comp:coefficient comp:parameter="FL333" comp:value="0.21343"/>
	        <comp:coefficient comp:parameter="PhyEry" comp:value="0.44444"/>
	    </comp:spillover>
        
        <comp:spillover comp:parameter="Cy5PE">
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.33333"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.44444"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.55555"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.66666"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.77777"/>
            <comp:coefficient comp:parameter="Cy5PE" comp:value="0.88888"/>
        </comp:spillover>
        
    </comp:spilloverMatrix>   
    
</comp:Compensation-ML>
    
    